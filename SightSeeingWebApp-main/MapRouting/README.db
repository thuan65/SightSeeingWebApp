ğŸ—ºï¸ Sonna Guide - Vietnam Routing System
A smart routing system designed specifically for Vietnam, featuring accurate route calculation and multi-point optimization.

âœ¨ Features
Single Route Navigation: Find the optimal route from point A to point B
Multi-Point Optimization: Calculate the shortest route through multiple destinations (1-3 points)
Vehicle Support: Routes optimized for cars, bicycles, and pedestrians
Vietnam Boundary Detection: Ensures routes stay within Vietnam's territory
Geocoding: Convert addresses to coordinates and vice versa
Interactive Map: Beautiful Leaflet-based map interface
Console Mode: Terminal-style interface for power users
ğŸš€ Quick Start
Prerequisites
Python 3.7+
pip
Installation
Clone the repository:
bash
git clone <your-repo-url>
cd sonna-guide
Install dependencies:
bash
pip install -r requirements.txt
Place the GeoJSON boundary file:
Download geoBoundaries-VNM-ADM0_simplified.geojson
Place it in the templates/ directory
Run the application:
bash
python app.py
Open your browser and navigate to:
Main interface: http://localhost:5000/
Console mode: http://localhost:5000/console
ğŸ“ Project Structure
sonna-guide/
â”œâ”€â”€ app.py                    # Flask application
â”œâ”€â”€ routing.py                # Single route calculation
â”œâ”€â”€ multi_point_routing.py    # Multi-point optimization
â”œâ”€â”€ geocoding.py              # Address to coordinates conversion
â”œâ”€â”€ vietnam_boundary.py       # Vietnam boundary checking
â”œâ”€â”€ config.py                 # Configuration settings
â”œâ”€â”€ custom_icons.py           # Custom map markers
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ index.html           # Main web interface
â”‚   â”œâ”€â”€ console.html         # Console interface
â”‚   â””â”€â”€ geoBoundaries-VNM-ADM0_simplified.geojson
â”œâ”€â”€ requirements.txt         # Python dependencies
â””â”€â”€ README.md               # This file
ğŸ› ï¸ Configuration
Edit config.py to customize:

API Settings: GraphHopper API key and timeout
Route Thresholds: Warning and danger thresholds for routes leaving Vietnam
Waypoints: Strategic waypoints for long-distance routes
Regional Settings: Boundary definitions for North, Central, and South Vietnam
ğŸ¯ Usage
Single Route
Select "Single Route" mode
Enter start and destination addresses
Choose vehicle type (car/bike/foot)
Click "Find Route"
Multi-Point Route
Select "Optimized Route" mode
Enter starting point
Add 1-3 destination points
System automatically calculates the optimal order
Click "Find Optimal Route"
Console Mode
Access console mode for a terminal-style experience with command-line interface:

Commands:
- help                    : Show help
- clear                   : Clear console
- geocode [address]       : Find coordinates
- route [addr1] to [addr2]: Find route
- multi [a1] to [a2] [a3] : Optimize route
- location                : Get current location
ğŸ”§ API Endpoints
POST /api/geocode
Convert address to coordinates

json
{
  "address": "Ben Thanh Market, District 1, HCMC"
}
POST /api/reverse-geocode
Convert coordinates to address

json
{
  "lat": 10.7769,
  "lon": 106.7009
}
POST /api/route
Calculate single route

json
{
  "start_lat": 21.0285,
  "start_lon": 105.8542,
  "end_lat": 10.7769,
  "end_lon": 106.7009,
  "vehicle": "car"
}
POST /api/multi-route
Calculate optimized multi-point route

json
{
  "start_lat": 10.7769,
  "start_lon": 106.7009,
  "destinations": [
    {"lat": 10.7624, "lon": 106.6822},
    {"lat": 10.7721, "lon": 106.6988}
  ],
  "vehicle": "car"
}
ğŸŒ Vietnam Boundary Detection
The system uses precise GeoJSON data to:

Detect when routes go outside Vietnam
Add strategic waypoints to keep routes within borders
Warn users when routes significantly leave Vietnam (>3%)
Mark dangerous routes that extensively go outside (>10%)
ğŸ¨ Customization
Custom Map Markers
Edit custom_icons.py to customize marker styles:

Start point (green with plus icon)
End point (red with flag icon)
Waypoints (numbered with different colors)
Route Colors
Multiple route segments use different colors for clarity:

Segment 1: Red-orange (
#FF6B6B)
Segment 2: Turquoise (
#4ECDC4)
Segment 3: Sky blue (
#45B7D1)
ğŸ“Š Performance
API timeout: 15 seconds
Maximum waypoints: 10
Maximum destinations: 3 (for optimization)
Route calculation: < 5 seconds (typical)
Multi-point optimization: < 30 seconds (for 3 destinations)
ğŸ› Troubleshooting
GeoJSON file not found
bash
# Make sure the file is in the correct location:
templates/geoBoundaries-VNM-ADM0_simplified.geojson
API errors
Check GraphHopper API key in config.py
Verify internet connection
Check API rate limits
Route goes outside Vietnam
System will automatically try to add waypoints
Warning displayed if >3% of route is outside
This is normal for border areas
ğŸ¤ Contributing
Contributions are welcome! Please:

Fork the repository
Create a feature branch
Commit your changes
Push to the branch
Open a Pull Request
ğŸ“ License
This project is open source and available under the MIT License.

ğŸ‘¥ Authors
Your Name - Initial work
ğŸ™ Acknowledgments
OpenStreetMap for map tiles
GraphHopper for routing API
Nominatim for geocoding
Leaflet.js for map rendering
GeoBoundaries for Vietnam boundary data
ğŸ“§ Contact
For questions or support, please open an issue on GitHub.

Made with â¤ï¸ for Vietnam

