<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Th∆∞ vi·ªán ·∫£nh</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin: 40px; }
    input { padding: 10px; width: 300px; }
    .gallery { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
    .gallery img { width: 200px; height: 150px; object-fit: cover; border-radius: 8px; cursor: pointer; }
  </style>
</head>
<!--<body>
  <h1>Th∆∞ vi·ªán ·∫£nh</h1>-->
  
<!-- √¥ t√¨m ki·∫øm -->
  <!--<input id="search" placeholder="Nh·∫≠p t·ª´ kh√≥a..." oninput="searchImages()">-->

  <!-- n∆°i hi·ªÉn th·ªã k·∫øt qu·∫£ -->
  <!--<div id="results" class="gallery"></div>-->

<!--UPDATE BODY ƒê·ªÇ HI·ªÜN RA T√åM KI·∫æM B·∫∞NG H√åNH ·∫¢NH--> 
<body>
    <h1>Th∆∞ vi·ªán ·∫£nh</h1>

    <!-- n√∫t chuy·ªÉn ƒë·∫øn trang t√¨m ki·∫øm b·∫±ng ·∫£nh -->
  
    <p>
        <a href="/search_image" style="
      display: inline-block;
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      text-decoration: none;
      margin-bottom: 20px;
    ">üîç T√¨m ki·∫øm b·∫±ng h√¨nh ·∫£nh</a>
    </p>

    <!-- √¥ t√¨m ki·∫øm -->
    <input id="search" placeholder="Nh·∫≠p t·ª´ kh√≥a..." oninput="searchImages()">
    <!-- n∆°i hi·ªÉn th·ªã k·∫øt qu·∫£ -->
    <<div id="results" class="gallery"></div>>


    <script>
        // H√†m t√¨m ki·∫øm
        async function searchImages() {
            const query = document.getElementById('search').value;
            const res = await fetch(`/api/search?q=${encodeURIComponent(query)}`);
            const data = await res.json();

            const container = document.getElementById('results');
            container.innerHTML = data.map(img => `
            <a href="/image/${img.id}">
              <img src="/static/images/${img.filename}" alt="${img.name}">
            </a>
          `).join('');
        }

        // Hi·ªÉn th·ªã t·∫•t c·∫£ ·∫£nh khi m·ªü trang
        window.onload = () => searchImages();
    </script>

</body>
</html>
